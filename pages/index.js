import React, { useState } from 'react';
import {getTrendingData} from '../api';
import Head from 'next/head'
import Image from 'next/image'
// import styles from '../styles/Home.module.css'
// import { AppstoreOutlined, MailOutlined, SettingOutlined, LaptopOutlined, NotificationOutlined, UserOutlined } from '@ant-design/icons';
import Link from 'next/link';
import 'antd/dist/reset.css';
import { Card } from 'antd';

const { Meta } = Card;
import { Layout, Menu, theme } from 'antd';
const { Header, Content, Footer } = Layout;

const Home = ({ trendingData }) => {
  console.log(trendingData)
  
  const items1 = [ 
    {
      label: (
        <Link href="/" target="_blank">In trend</Link>
      ),
      key: 'in trend',
      // icon: <MailOutlined />,
    },
    {
      label: (
        <Link href="/movies" target="_blank">Movies</Link>
      ),
      key: 'movies',
    },
    {
      label: (
        <Link href="/series" target="_blank">Series</Link>
      ),
      key: 'series',
    },
    {
      label: (
        <Link href="/search" target="_blank">Search</Link>
      ),
      key: 'search',
    },
  ];

  const {
    token: { colorBgContainer },
  } = theme.useToken();
  const baseImagePath = 'https://image.tmdb.org/t/p/w200'
  
  return (
    <Layout>
      <Head>
        <title>Create Next11 App</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>
      <Header className="header">
        <div className="logo" />
        <Menu theme="dark" mode="horizontal" defaultSelectedKeys={['2']} items={items1} />
      </Header>
      <Content
        style={{
          padding: '0 50px',
        }}
      >
        <Layout
          style={{
            padding: '24px 0',
            background: colorBgContainer,
          }}
        >
          <Content
            style={{
              padding: '0 24px',
              minHeight: 280,
              // display: 'inline-block'              
            }}
          >
            {trendingData.results.map((el) => 
               (<Card
                  key = {el.id}
                  hoverable
                  style={{ width: 200 }}
                  cover={<Image src={`${baseImagePath}${el.poster_path}`} alt="Vercel Logo" width={200} height={300} />}
                >
                  
                  <Meta title={el.title}/>
                  <span>{el.media_type} {el.release_date}</span>
                </Card>)
            )}
          </Content>
        </Layout>
      </Content>
      <Footer
        style={{
          textAlign: 'center',
        }}
      >
        Ant Design Â©2018 Created by Ant UED
      </Footer>
    </Layout>
  );
};

export default Home;

export async function getStaticProps() {
  const trendingData = await getTrendingData();
  return {
    props: {
      trendingData
    },
  };
}
